{"version":3,"sources":["media/video1.mp4","media/video2.mp4","media/video3.mp4","media/video4.mp4","media/video5.mp4","media/video6.mp4","media/video7.mp4","media/video8.mp4","slices/initialState.js","slices/quizSlice.js","store/store.js","components/Modal.js","components/Video.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","initialState","videos","id","src","video1","questions","time","question","options","correctAnswer","nextVideoOnCorrect","nextVideoOnIncorrect","userAnswer","multipleSelection","nextQuestion","video2","video3","video4","nextVideoOnEnd","video5","video6","video7","video8","currentVideo","currentQuestion","quizSlice","createSlice","name","reducers","setCurrentQuestion","state","action","payload","answerQuestion","questionId","answer","find","v","some","q","setCurrentVideo","resetQuestion","setNextQuestion","nextQuestionId","flatMap","actions","store","configureStore","reducer","quiz","quizReducer","Modal","_ref","show","onClose","React","createElement","className","onClick","Video","videoRef","useRef","dispatch","useDispatch","useSelector","currentVideoData","currentVideoDataRef","isPlaying","setIsPlaying","useState","initialPlay","setInitialPlay","selectedOptionIndices","setSelectedOptionIndices","isCorrect","setIsCorrect","isReplaying","setIsReplaying","showModal","setShowModal","useEffect","current","video","checkQuestionTime","currentTime","pause","handleVideoEnd","currentData","console","log","addEventListener","removeEventListener","handleLoadedData","play","catch","load","handlePlay","ref","controls","style","display","type","whiteSpace","map","option","index","key","concat","optionIndex","updatedSelectedOptions","includes","filter","handleOptionClick","handleSubmitAnswer","isAnswerCorrect","every","length","forEach","button","document","getElementById","classList","add","remove","setTimeout","disabled","handleCloseModal","App","container","createRoot","render","Provider"],"mappings":"mFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2WC6LzBC,MApLM,CACnBC,OAAQ,CACN,CACEC,GAAI,EACJC,IAAKC,IACLC,UAAW,CACT,CACEH,GAAI,EACJI,KAAM,GACNC,SAAU,kLACVC,QAAS,CACP,6NACA,oRACA,sLACA,yJAEFC,cAAe,CAAC,GAChBC,mBAAoB,EACpBC,qBAAsB,EACtBC,WAAY,KACZC,mBAAmB,EACnBC,aAAc,QAIpB,CACEZ,GAAI,EACJC,IAAKY,IACLV,UAAW,CACT,CACEH,GAAI,EACJI,KAAM,GACNC,SAAU,kLACVC,QAAS,CACP,6NACA,oRACA,sLACA,yJAEFC,cAAe,CAAC,GAChBC,mBAAoB,EACpBC,qBAAsB,EACtBC,WAAY,KACZC,mBAAmB,EACnBC,aAAc,QAIpB,CACEZ,GAAI,EACJC,IAAKa,IACLX,UAAW,CACT,CACEH,GAAI,EACJI,KAAM,GACNC,SAAU,kOACVC,QAAS,CACP,6CACA,0DACA,wHACA,oDACA,uEAEFC,cAAe,CAAC,GAChBC,mBAAoB,KACpBC,qBAAsB,EACtBC,WAAY,KACZC,mBAAmB,EACnBC,aAAc,GAEhB,CACEZ,GAAI,EACJI,KAAM,GACNC,SAAU,mHACVC,QAAS,CACP,sEACA,mFACA,oDACA,oFAEFC,cAAe,CAAC,GAChBC,mBAAoB,EACpBC,qBAAsB,EACtBC,WAAY,KACZC,mBAAmB,EACnBC,aAAc,QAIpB,CACEZ,GAAI,EACJC,IAAKc,IACLC,eAAgB,EAChBb,UAAW,IAEb,CACEH,GAAI,EACJC,IAAKgB,IACLd,UAAW,CACT,CACEH,GAAI,EACJI,KAAM,GACNC,SACE,2TACFC,QAAS,CAAC,oDAAa,mFAAmB,8CAAY,qDACtDC,cAAe,CAAC,EAAG,GACnBC,mBAAoB,KACpBC,qBAAsB,EACtBC,WAAY,KACZC,mBAAmB,EACnBC,aAAc,GAEhB,CACEZ,GAAI,EACJI,KAAM,GACNC,SAAU,uNACVC,QAAS,CACP,8HACA,2GACA,sEACA,2DAEFC,cAAe,CAAC,EAAG,GACnBC,mBAAoB,EACpBC,qBAAsB,EACtBC,WAAY,KACZC,mBAAmB,EACnBC,aAAc,QAIpB,CACEZ,GAAI,EACJC,IAAKiB,IACLF,eAAgB,EAChBb,UAAW,IAEb,CACEH,GAAI,EACJC,IAAKkB,IACLhB,UAAW,CACT,CACEH,GAAI,EACJI,KAAM,GACNC,SAAU,mHACVC,QAAS,CACP,sEACA,mFACA,oDACA,oFAEFC,cAAe,CAAC,GAChBC,mBAAoB,KACpBC,qBAAsB,EACtBC,WAAY,KACZC,mBAAmB,EACnBC,aAAc,GAEhB,CACEZ,GAAI,EACJI,KAAM,GACNC,SAAU,0SACVC,QAAS,CAAC,2GAAuB,0IAA6B,wFAAmB,2GAAuB,8CAAY,0FACpHC,cAAe,CAAC,EAAG,EAAG,EAAG,GACzBC,mBAAoB,KACpBC,qBAAsB,EACtBG,aAAc,QAIpB,CACEZ,GAAI,EACJC,IAAKmB,IACLJ,eAAgB,OAGpBK,aAAa,EACbC,gBAAiB,MCvLnB,MAAMC,EAAYC,YAAY,CAC5BC,KAAM,OACN3B,eACA4B,SAAU,CACRC,mBAAoBA,CAACC,EAAOC,KAC1BD,EAAMN,gBAAkBO,EAAOC,SAEjCC,eAAgBA,CAACH,EAAOC,KACtB,MAAMG,WAAEA,EAAUC,OAAEA,GAAWJ,EAAOC,QACxBF,EAAM7B,OAAOmC,KAAKC,GAAKA,EAAEhC,UAAUiC,KAAKC,GAAKA,EAAErC,KAAOgC,IAC7C7B,UAAU+B,KAAKG,GAAKA,EAAErC,KAAOgC,GAC3CtB,WAAauB,GAExBK,gBAAiBA,CAACV,EAAOC,KACvBD,EAAMP,aAAeQ,EAAOC,QAC5BF,EAAMN,gBAAkB,MAE1BiB,cAAeA,CAACX,EAAOC,KACrB,MAAMG,EAAaH,EAAOC,QACZF,EAAM7B,OAAOmC,KAAKC,GAAKA,EAAEhC,UAAUiC,KAAKC,GAAKA,EAAErC,KAAOgC,IAC7C7B,UAAU+B,KAAKG,GAAKA,EAAErC,KAAOgC,GAC3CtB,WAAa,MAExB8B,gBAAiBA,CAACZ,EAAOC,KACvB,MAAMY,EAAiBZ,EAAOC,QAC9BF,EAAMN,gBAAkBM,EAAM7B,OAC3B2C,QAAQP,GAAKA,EAAEhC,WACf+B,KAAKG,GAAKA,EAAErC,KAAOyC,QAKfd,mBACXA,EAAkBI,eAClBA,EAAcO,gBACdA,EAAeC,cACfA,EAAaC,gBACbA,GACEjB,EAAUoB,QAECpB,QAAiB,QClCjBqB,MANDC,YAAe,CAC3BC,QAAS,CACPC,KAAMC,iBCcKC,MAhBDC,IAAuB,IAAtBC,KAAEA,EAAIC,QAAEA,GAASF,EAC9B,OAAKC,EAKHE,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,UAAI,6BACJD,IAAAC,cAAA,SAAG,8LACHD,IAAAC,cAAA,UAAQE,QAASJ,GAAS,8BARvB,YC2MIK,MA1MDA,KACZ,MAAMC,EAAWC,iBAAO,MAClBC,EAAWC,eACX9D,OAAEA,EAAMsB,aAAEA,EAAYC,gBAAEA,GAAoBwC,YAAalC,GAAUA,EAAMmB,MACzEgB,EAAmBhE,EAAOmC,KAAKC,GAAKA,EAAEnC,KAAOqB,GAC7C2C,EAAsBL,iBAAOI,IAC5BE,EAAWC,GAAgBC,oBAAS,IACpCC,EAAaC,GAAkBF,oBAAS,IACxCG,EAAuBC,GAA4BJ,mBAAS,KAC5DK,EAAWC,GAAgBN,oBAAS,IACpCO,EAAaC,GAAkBR,oBAAS,IACxCS,EAAWC,GAAgBV,oBAAS,GAE3CW,oBAAU,KACRd,EAAoBe,QAAUhB,GAC7B,CAACA,IAEJe,oBAAU,KACR,MAAME,EAAQtB,EAASqB,QAEjBE,EAAoBA,KACxB,MAAMC,EAAcF,EAAME,YAE1B,GAAInB,GAAoBA,EAAiB5D,UAAW,CAClD,MAAME,EAAW0D,EAAiB5D,UAAU+B,KAAKG,GAAKA,EAAEjC,MAAQ8E,GAAgC,OAAjB7C,EAAE3B,YAE7EL,IACF2E,EAAMG,QACNvB,EAASjC,EAAmBtB,OAK5B+E,EAAiBA,KACrB,MAAMC,EAAcrB,EAAoBe,QACxCO,QAAQC,IAAIF,GACZC,QAAQC,IAAIF,EAAYrE,gBACpBqE,GAAeA,EAAYrE,eAC7B4C,EAAStB,EAAgB+C,EAAYrE,iBACX,IAAjBK,GACTwD,GAAa,IASjB,OALIG,IACFA,EAAMQ,iBAAiB,aAAcP,GACrCD,EAAMQ,iBAAiB,QAASJ,IAG3B,KACDJ,IACFA,EAAMS,oBAAoB,aAAcR,GACxCD,EAAMS,oBAAoB,QAASL,MAGtC,CAACxB,EAAUvC,IA4DdyD,oBAAU,KACR,MAAME,EAAQtB,EAASqB,QACvB,GAAIC,EAAO,CACT,MAAMU,EAAmBA,KACnBhB,IACFM,EAAMW,OAAOC,MAAM,KACjB1B,GAAa,KAEfS,GAAe,KAanB,OATAK,EAAMQ,iBAAiB,aAAcE,GAErCV,EAAMa,OACDzB,GAAgBM,GACnBM,EAAMW,OAAOC,MAAM,KACjB1B,GAAa,KAIV,KACLc,EAAMS,oBAAoB,aAAcC,MAG3C,CAACrE,EAAc+C,EAAaM,IAsB/B,OACErB,IAAAC,cAAA,OAAKC,UAAU,mBACZa,GACCf,IAAAC,cAAA,OAAKC,UAAU,uBACbF,IAAAC,cAAA,UAAQE,QAxBGsC,KACjB5B,GAAa,GACbG,GAAe,GACf,MAAMW,EAAQtB,EAASqB,QACnBC,GACFA,EAAMW,OAAOC,MAAM,KACjB1B,GAAa,OAkBkB,sFAGjCb,IAAAC,cAAA,SAAOyC,IAAKrC,EAAUsC,UAAQ,EAACC,MAAO,CAAEC,QAAS9B,EAAc,OAAS,UACtEf,IAAAC,cAAA,UAAQrD,IAAK8D,EAAiB9D,IAAKkG,KAAK,cAAc,gDAGvD7E,IAAoBoD,GACnBrB,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,MAAI2C,MAAO,CAAEG,WAAY,aAAe9E,EAAgBjB,UACxDgD,IAAAC,cAAA,OAAKC,UAAU,WACZjC,EAAgBhB,QAAQ+F,IAAI,CAACC,EAAQC,IACpClD,IAAAC,cAAA,UACEkD,IAAKF,EACLtG,GAAE,UAAAyG,OAAYF,GACd/C,QAASA,IA5HIkD,KACzB,IAAIC,EAEFA,EADErC,EAAsBsC,SAASF,GACRpC,EAAsBuC,OAAON,GAASA,IAAUG,GAEhD,IAAIpC,EAAuBoC,GAEtDnC,EAAyBoC,IAqHEG,CAAkBP,GACjChD,UAAS,GAAAkD,OAAKnC,EAAsBsC,SAASL,GAAS,WAAa,KAElED,KAIPjD,IAAAC,cAAA,UACEC,UAAU,gBACVC,QA3HiBuD,KACzB,MAAM1G,EAAWiB,EACX0F,EAAkB3G,EAASE,cAAc0G,MAAMhF,GAAUqC,EAAsBsC,SAAS3E,KACtE5B,EAASE,cAAc2G,SAAW5C,EAAsB4C,OAEhFzC,EAAauC,GAEbpD,EAAS7B,EAAe,CAAEC,WAAY3B,EAASL,GAAIiC,OAAQqC,KAG3DhD,EAAgBhB,QAAQ6G,QAAQ,CAACb,EAAQC,KACvC,MAAMa,EAASC,SAASC,eAAc,UAAAb,OAAWF,IAC7CjC,EAAsBsC,SAASL,KAC7BlG,EAASE,cAAcqG,SAASL,IAClCa,EAAOG,UAAUC,IAAI,WACrBJ,EAAOG,UAAUE,OAAO,cAExBL,EAAOG,UAAUC,IAAI,aACrBJ,EAAOG,UAAUE,OAAO,gBAK9BC,WAAW,KACT,GAAIV,EACmB,IAAjB3F,GAAsC,IAAhBhB,EAASL,GACjC6E,GAAa,GACJxE,EAASO,aAClBgD,EAASpB,EAAgBnC,EAASO,eAElCgD,EAAStB,EAAgBjC,EAASG,yBAE/B,CACLoD,EAASrB,EAAclC,EAASL,KAChC,MAAMgF,EAAQtB,EAASqB,QACvBJ,GAAe,GACXK,IACFpB,EAASjC,EAAmB,OAC5BqD,EAAME,YAAc,EACpBF,EAAMG,QACNH,EAAMa,QAGVtB,EAAyB,IACzBE,GAAa,IACZ,MA+EKkD,SAA2C,IAAjCrD,EAAsB4C,QACjC,sDAKL7D,IAAAC,cAACL,EAAK,CAACE,KAAMyB,EAAWxB,QA5CHwE,KACvB/C,GAAa,GAEbjB,EAAStB,EAAgB,IACzBsB,EAASjC,EAAmB,OAC5B0C,GAAe,GACfE,EAAyB,SCtJdsD,MAXf,WACE,OACExE,IAAAC,cAAA,OAAKC,UAAU,OACbF,IAAAC,cAAA,UAAQC,UAAU,cAChBF,IAAAC,cAAA,UAAI,wEAEND,IAAAC,cAACG,EAAK,cCHZ,MAAMqE,EAAYT,SAASC,eAAe,QAC7BS,qBAAWD,GAEnBE,OACH3E,IAAAC,cAAC2E,IAAQ,CAACrF,MAAOA,GACfS,IAAAC,cAACuE,EAAG","file":"static/js/main.f2558712.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/video1.6ed5eaf5.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video2.7a4200e4.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video3.21c9cfc2.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video4.e9fe85c2.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video5.c26aff02.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video6.167abe3f.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video7.8616c756.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video8.4a59f782.mp4\";","import video1 from \"../media/video1.mp4\";\r\nimport video2 from \"../media/video2.mp4\";\r\nimport video3 from \"../media/video3.mp4\";\r\nimport video4 from \"../media/video4.mp4\";\r\nimport video5 from \"../media/video5.mp4\";\r\nimport video6 from \"../media/video6.mp4\";\r\nimport video7 from \"../media/video7.mp4\";\r\nimport video8 from \"../media/video8.mp4\";\r\n\r\nconst initialState = {\r\n  videos: [\r\n    {\r\n      id: 1,\r\n      src: video1,\r\n      questions: [\r\n        {\r\n          id: 1,\r\n          time: 40,\r\n          question: \"כיצד הייתם מתמודדים עם סוג בולם זה?\",\r\n          options: [\r\n            \"מתן עובדות והוכחות, שאלות פתוחות, תמיכה רבה\",\r\n            \"עלייה לרמה העקרונית, מתן עובדות והוכחות, שאלות סגורות\",\r\n            \"שאלות סגורות, סבלנות והצעות לייעול\",\r\n            \"הכלה, הצעות לייעול ותמיכה רבה\",\r\n          ],\r\n          correctAnswer: [1],\r\n          nextVideoOnCorrect: 3,\r\n          nextVideoOnIncorrect: 2,\r\n          userAnswer: null,\r\n          multipleSelection: false,\r\n          nextQuestion: null,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      src: video2,\r\n      questions: [\r\n        {\r\n          id: 2,\r\n          time: 36,\r\n          question: \"כיצד הייתם מתמודדים עם סוג בולם זה?\",\r\n          options: [\r\n            \"מתן עובדות והוכחות, שאלות פתוחות, תמיכה רבה\",\r\n            \"עלייה לרמה העקרונית, מתן עובדות והוכחות, שאלות סגורות\",\r\n            \"שאלות סגורות, סבלנות והצעות לייעול\",\r\n            \"הכלה, הצעות לייעול ותמיכה רבה\",\r\n          ],\r\n          correctAnswer: [1],\r\n          nextVideoOnCorrect: 3,\r\n          nextVideoOnIncorrect: 3,\r\n          userAnswer: null,\r\n          multipleSelection: false,\r\n          nextQuestion: null,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      src: video3,\r\n      questions: [\r\n        {\r\n          id: 3,\r\n          time: 37,\r\n          question: \"בחר בדרך התמודדות שאינה נכונה לבולם מסוג זה\",\r\n          options: [\r\n            \"חיזוקים\",\r\n            \"נסיון אישי\",\r\n            \"דוגמאות מעולם תוכן אחר\",\r\n            \"תמיכה רבה\",\r\n            \"שאלות נוקבות\",\r\n          ],\r\n          correctAnswer: [4],\r\n          nextVideoOnCorrect: null, // Move to the next question, not video\r\n          nextVideoOnIncorrect: 3,\r\n          userAnswer: null,\r\n          multipleSelection: true,\r\n          nextQuestion: 4, // Points to the next question in the same video\r\n        },\r\n        {\r\n          id: 4,\r\n          time: 60, // Assuming the next question appears at this time\r\n          question: \"איזה בולם מוצג בסרטון?\",\r\n          options: [\r\n            \"מסכים לכאורה\",\r\n            \"בטחון עצמי גבוה\",\r\n            \"מוותר מהר\",\r\n            \"בטחון עצמי נמוך\",\r\n          ],\r\n          correctAnswer: [3],\r\n          nextVideoOnCorrect: 4,\r\n          nextVideoOnIncorrect: 4,\r\n          userAnswer: null,\r\n          multipleSelection: true,\r\n          nextQuestion: null,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 4,\r\n      src: video4,\r\n      nextVideoOnEnd: 5, // Specify the next video when this video ends\r\n      questions: [], // No questions for this video\r\n    },\r\n    {\r\n      id: 5,\r\n      src: video5,\r\n      questions: [\r\n        {\r\n          id: 5,\r\n          time: 30,\r\n          question:\r\n            \"בחר 2 מתוך 4 אפשרויות:\\nאילו מאפיינים יש לבולם מסוג 'מסכים לכאורה'?\",\r\n          options: [\"הנהון ראש\", \"מסכים ללא מחשבה\", \"לא מקשיב\", \"הקשבה רבה\"],\r\n          correctAnswer: [1, 2],\r\n          nextVideoOnCorrect: null,\r\n          nextVideoOnIncorrect: 5,\r\n          userAnswer: null,\r\n          multipleSelection: true,\r\n          nextQuestion: 6,\r\n        },\r\n        {\r\n          id: 6,\r\n          time: 45, // Adjust the time to be later than the first question\r\n          question: \"בחרו 2 דרכי התמודדות אפשריים לבולם מסוג זה\",\r\n          options: [\r\n            \"הצגת עמדה הפוכה מהמצופה\",\r\n            \"תנועות ידיים מרובות\",\r\n            \"שאלות פתוחות\",\r\n            \"הנהון רציף\",\r\n          ],\r\n          correctAnswer: [0, 2],\r\n          nextVideoOnCorrect: 7,\r\n          nextVideoOnIncorrect: 7,\r\n          userAnswer: null,\r\n          multipleSelection: true,\r\n          nextQuestion: null,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 6,\r\n      src: video6,\r\n      nextVideoOnEnd: 7, // Specify the next video when this video ends\r\n      questions: [], // No questions for this video\r\n    },\r\n    {\r\n      id: 7,\r\n      src: video7,\r\n      questions: [\r\n        {\r\n          id: 7,\r\n          time: 41,\r\n          question: \"איזה בולם מוצג בסרטון?\",\r\n          options: [\r\n            \"מסכים לכאורה\",\r\n            \"בטחון עצמי גבוה\",\r\n            \"מוותר מהר\",\r\n            \"בטחון עצמי נמוך\",\r\n          ],\r\n          correctAnswer: [1],\r\n          nextVideoOnCorrect: null,\r\n          nextVideoOnIncorrect: 7,\r\n          userAnswer: null,\r\n          multipleSelection: true,\r\n          nextQuestion: 8,\r\n        },\r\n        {\r\n          id: 8,\r\n          time: 41,\r\n          question: \"כיצד הייתם מתמודדים עם בולם מסוג זה? סמן את 4 דרכי ההתמודדות\",\r\n          options: [\"מתן עובדות ודוגמאות\", \"שימוש בנסיון אישי ומקצועי\", \"סיטואציות שונות\", \"העלאה לרמה המקצועית\", \"מגע פיזי\", \"הימנעות מקשר עין\"],\r\n          correctAnswer: [0, 1, 2, 3],\r\n          nextVideoOnCorrect: null, // Change this so when the user is right it shows the modal\r\n          nextVideoOnIncorrect: 8, // Set the next video to 8 on incorrect answer\r\n          nextQuestion: null,\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      id: 8,\r\n      src: video8,\r\n      nextVideoOnEnd: null,\r\n    }\r\n  ],\r\n  currentVideo:1,\r\n  currentQuestion: null,\r\n};\r\n\r\nexport default initialState;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport initialState from './initialState';\r\n\r\nconst quizSlice = createSlice({\r\n  name: 'quiz',\r\n  initialState,\r\n  reducers: {\r\n    setCurrentQuestion: (state, action) => {\r\n      state.currentQuestion = action.payload;\r\n    },\r\n    answerQuestion: (state, action) => {\r\n      const { questionId, answer } = action.payload;\r\n      const video = state.videos.find(v => v.questions.some(q => q.id === questionId));\r\n      const question = video.questions.find(q => q.id === questionId);\r\n      question.userAnswer = answer;\r\n    },\r\n    setCurrentVideo: (state, action) => {\r\n      state.currentVideo = action.payload;\r\n      state.currentQuestion = null;\r\n    },\r\n    resetQuestion: (state, action) => {\r\n      const questionId = action.payload;\r\n      const video = state.videos.find(v => v.questions.some(q => q.id === questionId));\r\n      const question = video.questions.find(q => q.id === questionId);\r\n      question.userAnswer = null;\r\n    },\r\n    setNextQuestion: (state, action) => {\r\n      const nextQuestionId = action.payload;\r\n      state.currentQuestion = state.videos\r\n        .flatMap(v => v.questions)\r\n        .find(q => q.id === nextQuestionId);\r\n    }\r\n  }\r\n});\r\n\r\nexport const {\r\n  setCurrentQuestion,\r\n  answerQuestion,\r\n  setCurrentVideo,\r\n  resetQuestion,\r\n  setNextQuestion\r\n} = quizSlice.actions;\r\n\r\nexport default quizSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport quizReducer from '../slices/quizSlice';\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    quiz: quizReducer\r\n  }\r\n});\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport './Modal.css';\r\n\r\nconst Modal = ({ show, onClose }) => {\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-content\">\r\n        <h2>סיום!</h2>\r\n        <p>ברכות! סיימת את הסרטון האינטראקטיבי.</p>\r\n        <button onClick={onClose}>סגור</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setCurrentQuestion, answerQuestion, setCurrentVideo, resetQuestion, setNextQuestion } from '../slices/quizSlice';\r\nimport Modal from './Modal';\r\nimport './Video.css';\r\n\r\nconst Video = () => {\r\n  const videoRef = useRef(null);\r\n  const dispatch = useDispatch();\r\n  const { videos, currentVideo, currentQuestion } = useSelector((state) => state.quiz);\r\n  const currentVideoData = videos.find(v => v.id === currentVideo);\r\n  const currentVideoDataRef = useRef(currentVideoData);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [initialPlay, setInitialPlay] = useState(true);\r\n  const [selectedOptionIndices, setSelectedOptionIndices] = useState([]);\r\n  const [isCorrect, setIsCorrect] = useState(false);\r\n  const [isReplaying, setIsReplaying] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    currentVideoDataRef.current = currentVideoData;\r\n  }, [currentVideoData]);\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n\r\n    const checkQuestionTime = () => {\r\n      const currentTime = video.currentTime;\r\n\r\n      if (currentVideoData && currentVideoData.questions) {\r\n        const question = currentVideoData.questions.find(q => q.time <= currentTime && q.userAnswer === null);\r\n\r\n        if (question) {\r\n          video.pause();\r\n          dispatch(setCurrentQuestion(question));\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleVideoEnd = () => {\r\n      const currentData = currentVideoDataRef.current;\r\n      console.log(currentData)\r\n      console.log(currentData.nextVideoOnEnd)\r\n      if (currentData && currentData.nextVideoOnEnd) {\r\n        dispatch(setCurrentVideo(currentData.nextVideoOnEnd));\r\n      } else if (currentVideo === 8) {\r\n        setShowModal(true);\r\n      }\r\n    };\r\n\r\n    if (video) {\r\n      video.addEventListener('timeupdate', checkQuestionTime);\r\n      video.addEventListener('ended', handleVideoEnd);\r\n    }\r\n\r\n    return () => {\r\n      if (video) {\r\n        video.removeEventListener('timeupdate', checkQuestionTime);\r\n        video.removeEventListener('ended', handleVideoEnd);\r\n      }\r\n    };\r\n  }, [dispatch, currentVideo]);\r\n\r\n  const handleOptionClick = (optionIndex) => {\r\n    let updatedSelectedOptions;\r\n    if (selectedOptionIndices.includes(optionIndex)) {\r\n      updatedSelectedOptions = selectedOptionIndices.filter(index => index !== optionIndex);\r\n    } else {\r\n      updatedSelectedOptions = [...selectedOptionIndices, optionIndex];\r\n    }\r\n    setSelectedOptionIndices(updatedSelectedOptions);\r\n  };\r\n\r\n  const handleSubmitAnswer = () => {\r\n    const question = currentQuestion;\r\n    const isAnswerCorrect = question.correctAnswer.every(answer => selectedOptionIndices.includes(answer)) &&\r\n                            question.correctAnswer.length === selectedOptionIndices.length;\r\n\r\n    setIsCorrect(isAnswerCorrect);\r\n\r\n    dispatch(answerQuestion({ questionId: question.id, answer: selectedOptionIndices }));\r\n\r\n    // Update the option classes based on the correctness of the answers\r\n    currentQuestion.options.forEach((option, index) => {\r\n      const button = document.getElementById(`option-${index}`);\r\n      if (selectedOptionIndices.includes(index)) {\r\n        if (question.correctAnswer.includes(index)) {\r\n          button.classList.add('correct');\r\n          button.classList.remove('selected');\r\n        } else {\r\n          button.classList.add('incorrect');\r\n          button.classList.remove('selected');\r\n        }\r\n      }\r\n    });\r\n\r\n    setTimeout(() => {\r\n      if (isAnswerCorrect) {\r\n        if (currentVideo === 7 && question.id === 8) {\r\n          setShowModal(true);\r\n        } else if (question.nextQuestion) {\r\n          dispatch(setNextQuestion(question.nextQuestion));\r\n        } else {\r\n          dispatch(setCurrentVideo(question.nextVideoOnCorrect));\r\n        }\r\n      } else {\r\n        dispatch(resetQuestion(question.id));\r\n        const video = videoRef.current;\r\n        setIsReplaying(true);\r\n        if (video) {\r\n          dispatch(setCurrentQuestion(null));  // Reset current question before replay\r\n          video.currentTime = 0;\r\n          video.pause(); // Ensure the video is paused before loading\r\n          video.load();  // Ensure the video is loaded before playing\r\n        }\r\n      }\r\n      setSelectedOptionIndices([]);\r\n      setIsCorrect(false);\r\n    }, 2000); // Increase the delay to 2 seconds to allow the user to see the answer\r\n  };\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    if (video) {\r\n      const handleLoadedData = () => {\r\n        if (isReplaying) {\r\n          video.play().catch(() => {\r\n            setIsPlaying(false);\r\n          });\r\n          setIsReplaying(false);  // Reset replaying state after playing\r\n        }\r\n      };\r\n\r\n      video.addEventListener('loadeddata', handleLoadedData);\r\n\r\n      video.load();  // Load the video to ensure it's ready to play\r\n      if (!initialPlay && !isReplaying) {\r\n        video.play().catch(() => {\r\n          setIsPlaying(false);\r\n        });\r\n      }\r\n\r\n      return () => {\r\n        video.removeEventListener('loadeddata', handleLoadedData);\r\n      };\r\n    }\r\n  }, [currentVideo, initialPlay, isReplaying]);\r\n\r\n  const handlePlay = () => {\r\n    setIsPlaying(true);\r\n    setInitialPlay(false);\r\n    const video = videoRef.current;\r\n    if (video) {\r\n      video.play().catch(() => {\r\n        setIsPlaying(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n    // Reset to initial state\r\n    dispatch(setCurrentVideo(1));\r\n    dispatch(setCurrentQuestion(null));\r\n    setInitialPlay(true);\r\n    setSelectedOptionIndices([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"video-container\">\r\n      {initialPlay && (\r\n        <div className=\"play-button-overlay\">\r\n          <button onClick={handlePlay}>אני רוצה להתחיל!</button>\r\n        </div>\r\n      )}\r\n      <video ref={videoRef} controls style={{ display: initialPlay ? 'none' : 'block' }}>\r\n        <source src={currentVideoData.src} type=\"video/mp4\" />\r\n        Your browser does not support the video tag.\r\n      </video>\r\n      {currentQuestion && !isReplaying && (\r\n        <div className=\"question-overlay\">\r\n          <h2 style={{ whiteSpace: 'pre-line' }}>{currentQuestion.question}</h2>\r\n          <div className=\"options\">\r\n            {currentQuestion.options.map((option, index) => (\r\n              <button\r\n                key={option}\r\n                id={`option-${index}`}\r\n                onClick={() => handleOptionClick(index)}\r\n                className={`${selectedOptionIndices.includes(index) ? 'selected' : ''}`}\r\n              >\r\n                {option}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <button \r\n            className=\"submit-button\" \r\n            onClick={handleSubmitAnswer} \r\n            disabled={selectedOptionIndices.length === 0}\r\n          >\r\n            הגש תשובה\r\n          </button>\r\n        </div>\r\n      )}\r\n      <Modal show={showModal} onClose={handleCloseModal} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Video from \"./components/Video\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>בולמים במשוב</h1>\n      </header>\n      <Video />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport App from './App';\nimport './index.css';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\n\nroot.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n"],"sourceRoot":""}